<mat-toolbar class="toolbar">
  <a class="brand" routerLink="/">Harvest Hub</a>
  <span class="spacer"></span>
  <a mat-button routerLink="/catalog">Catalog</a>
  <a mat-button routerLink="/orders" [disabled]="!auth.isAuthenticated()">Orders</a>
  <a
    mat-button
    routerLink="/cart"
    class="cart-link"
    [matBadge]="cartCount()"
    matBadgeColor="accent"
    matBadgeOverlap="true"
    matBadgePosition="above after"
    matBadgeClass="cart-badge"
  >
    <mat-icon>shopping_cart</mat-icon>
    Cart
  </a>
  <button
    mat-icon-button
    class="theme-toggle"
    aria-label="Toggle theme"
    (click)="theme.toggleTheme()"
  >
    <mat-icon>
      {{ theme.theme() === 'dark' ? 'dark_mode' : 'light_mode' }}
    </mat-icon>
  </button>
  <span class="auth-spacer"></span>
  @if (!auth.isAuthenticated()) {
    <button mat-raised-button color="primary" (click)="openAuthDialog()">
      Sign in
    </button>
  }
  @if (auth.isAuthenticated()) {
    <button mat-stroked-button color="primary" (click)="signOut()">
      Sign out
    </button>
  }
</mat-toolbar>

<main class="page">
  <router-outlet></router-outlet>
</main>
